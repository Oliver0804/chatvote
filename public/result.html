<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投票結果 - ChatVote 互動投票</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📈 ChatVote 投票結果</h1>
            <nav class="nav-links">
                <a href="/" class="btn-link">建立投票</a>
                <a href="/polls" class="btn-link">進行中投票</a>
            </nav>
        </header>
        
        <!-- Google AdSense 廣告區塊 -->
        <div class="ad-container">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5218895047629495"
                    crossorigin="anonymous"></script>
            <!-- Vote -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-5218895047629495"
                 data-ad-slot="1960969761"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <main>
            <div id="loading" class="loading">載入結果中...</div>
            
            <div id="resultContainer" class="result-container" style="display: none;">
                <div class="poll-info">
                    <h2 id="question"></h2>
                    <div class="poll-status">
                        <span id="statusBadge" class="status-badge"></span>
                        <span id="totalVotes">總投票數: 0</span>
                    </div>
                </div>
                
                <div class="results-layout">
                    <div class="chart-section">
                        <div class="chart-container">
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="table-section">
                        <div class="results-table">
                            <h3>詳細結果</h3>
                            <table id="resultsTable">
                                <thead>
                                    <tr>
                                        <th>選項</th>
                                        <th>票數</th>
                                        <th>百分比</th>
                                    </tr>
                                </thead>
                                <tbody id="resultsBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="share-section">
                    <h3>分享結果</h3>
                    <div class="url-display">
                        <input type="text" id="resultUrl" readonly>
                        <button onclick="copyResultUrl()" class="btn-copy">複製連結</button>
                    </div>
                </div>
            </div>
            
            <div id="notFoundContainer" class="not-found" style="display: none;">
                <h2>❌ 投票不存在</h2>
                <p>此投票可能已被刪除或連結無效</p>
                <a href="/" class="btn-primary">回到首頁</a>
            </div>
        </main>
        
        <footer class="site-footer">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="/">建立投票</a> |
                    <a href="/polls">進行中投票</a> |
                    <a href="/history">歷史投票</a> |
                    <a href="https://bashcat.net" target="_blank">🐱 BASHCAT.NET</a> |
                    <a href="https://hackmd.io/@BASHCAT" target="_blank">HackMD</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ChatVote - 互動投票系統 | 由 <a href="https://bashcat.net" target="_blank">Bashcat</a> 維護 | <a href="mailto:bashcat0804@gmail.com">bashcat0804@gmail.com</a> | <span class="version-info">v2.0.0</span></p>
            </div>
        </footer>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/result.js"></script>
</body>
</html>